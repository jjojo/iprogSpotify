<ng-include src="'views/header.html'" class="header-wrapper"></ng-include>

<main>
	<!-- This is where all Html for the view goes. -->
	<div class="container-fluid">
    <div class="row">
		<div class="col-md-3 col-xs-12">
      	<h1 class="profile-title">{{userData.display_name}}</h1>
        <img class="media-object" src="{{userData.images[0].url}}">
        <div class="info-block">
            <dt class="info-title">Top artists</dt><dd  ng-repeat="artist in topartists"><a class="info-text" href="{{artist.external_urls.spotify}}">{{artist.name}}</a></dd>
        </div>
        <div class="info-block">
            <dt class="info-title">Top tracks</dt>
            <dd ng-repeat="track in toptracks">
              <a class="info-text" href="{{track.external_urls.spotify}}">{{track.name}} by {{track.artists[0].name}}</a>
            </dd>
        </div>
        <div class="info-block">
            <dt class="info-title">Spotify link</dt><dd><a class="info-text" href="{{userData.external_urls.spotify}}">Your profile</a></dd>   
        </div>
      </div>
      
      <div class="col-md-9">
      	<h1 class="profile-title">Your playlists</h1>
      	<div class="grid col-md-12 col-xs-12">
      		<ul>
      		<li class="inner-grid col-md-4 col-xs-6" ng-repeat="playlist in playlists">
	      		<a href="{{playlist.external_urls.spotify}}">
              <img class="top-images" src="{{playlist.images[0].url}}"/>
            </a>
              <p class="playlist-title">
                {{playlist.name}}
              </p>
              <div ng-init="checkLink(playlist)" ng-hide="playlist.shared">
                <p class="info-text">
                  <a class="info-text" href="{{playlist.external_urls.spotify}}">Listen on Spotify</a>
                </p>
                <p class="info-text">
                  <button type="button" class="btn btn-success" ng-click="genLink(playlist)">Put up to vote</button>
                  {{playlist.status}}
                </p>
              </div>
              <div ng-show="playlist.shared">
                <p class="info-text">Share this link: </p>
                <a href="{{playlist.link}}" class="link-text">{{playlist.link}}</a>
                <p>
                  <button type="button" class="btn btn-warning" ng-click="stopSharing(playlist)">Close vote</button>
                </p>
              </div>

            </li>   
        </div>
      </div>
    </div>
	</div>

</main>

<ng-include src="'views/footer.html'" class="footer-wrapper"></ng-include>