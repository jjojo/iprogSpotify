

<!-- alla views ska vara wrappade i en <main> tag!
tänk på indentering i alla divs
			<div>
				<p></p>
			</div>
 -->
<div ng-include="'views/voteHeader.html'"></div>

<!--Voting page-->
<div ng-init="getPlaylistData()"  class="container-fluid">
	<div class="container">
		<div class="row">
			<div class="welcome-tag col-xs-10">
				<p class="welcome-vote"> 
					Welcome to Voteify 
				</p>

			</div>
		</div>
	</div>
	<div class="center container">
		<div class="row">
			<div class="playlist-info col-md-3 col-xs-12" ng-hide="loading || badLink">
				<h3>Playlist info</h1>
				<a href="{{spotLink}}"><img class="playlist-image" src="{{image}}"></a>
				<p><a class="rate_title" href="{{spotLink}}">{{title}}</a></p>
				<h4>Number of tracks:</h4> <p>{{totalTracks}}</p>
				<h4>Playlist owner:</h4> <p>{{owner}}</p>
				<button class="checkoutButton btn-success"><a href="#/">Checkout Voteify for yourself</a></button>
			</div>
			
			<div class="col-md-9 col-xs-12">
				<div class="playlist">
					<!--Loading page-->
					<div class="loader">
						<h2 class="rate_title" ng-show="loading">The playlist is now loading</h2>
						<img ng-show="loading" src="/resources/loading-bar.gif">
					</div>
					<div class="vote-top col-xs-12" ng-hide="loading || badLink" ng-mouseleave="hollowStars()">
						<ul class="center-bar">
							<li>
								<a class="rate_title" href="{{spotLink}}">
									{{title}}
								</a>
							</li>
							<li>
								
							</li>
						</ul>
						<ul class="center-bar">
							<li>
								<p class="rate-title">Place your vote here!</p>
								<div class="stars" ng-repeat="star in stars">
									<img ng-show="star.hide" 
									ng-mouseover="fillStar(star)" 
									src="resources/spoti_star_hollow.png"/>
									<img ng-show="!star.hide" 
									ng-mouseover="hollowStar(star)" 
									ng-click="setLock(); setVote(star)" 
									src="resources/spoti_star_filled.png"/>
								</div>
							</li>
							<li>
								<p class="rate-title">Votes: {{playlist.votes}}</p>
								<p class="rate-title">Rating: {{playlist.rating}}</p>
							</li>
						</ul>
					</div>	
					<div class="pl-songs scrollbar" ng-hide="badLink">
						<div>
							<!-- ng-repeat låtar-->
							<div class="track-bar col-xs-12" ng-repeat="track in playlistSongs">
								<div class="track-position col-xs-12 col-md-6">
									<p class="info-text">
										{{track.track.artists[0].name}} - {{track.track.name}}
									</p>
								</div>
								<div class="track-position col-xs-12 col-md-6" ng-hide="preview">
									<audio ng-src="{{trustSrc(track.track.preview_url)}}" controls="1"></audio>
								</div>
								<div class="track-position not-preview col-xs-12 col-md-6" ng-show="preview">
									Preview not available - listen on spotify <a href="{{track.track.external_urls.spotify}}">here!</a>
								</div>
							</div>						
						</div>
					</div>
				</div>
			</div>


		
		</div>
	</div>
</div>

<!--Bad link page-->
<div ng-show="badLink">
	<h1 class="bad-link col-xs-8 col-xs-offset-2">The link you followed did not result in any playlist, look again or head home to <a class="info-text" href="#/" ng-style="active('home')">Voteify</a>!</h1>
</div>

<ng-include src="'views/footer.html'" class="footer-wrapper"></ng-include>

